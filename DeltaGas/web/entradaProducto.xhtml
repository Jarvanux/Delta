<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <h:form id="form">
            <p:dialog widgetVar="cargando" modal="true" resizable="false" header="Cargando..." showEffect="fade" closable="false">
                <p:graphicImage id="img" value="../imagenes/loading.gif" style="width: 100px; height: 100px;" />
            </p:dialog>
            <p:panel header="Entrada de productos" style="width: 500px; height: auto; margin: 0 auto;">
                <p:messages autoUpdate="true" id="sms" closable="true" />
                <p:panelGrid id="displayCrear" columns="2" columnClasses="label,value" style="widows: 99%; margin: 0 auto;">
                    <p:outputLabel value="Código producto:" />
                    <p:inputText value="#{almacenManaged.codigo}" />
                    <p:outputLabel value="Fecha:" />
                    <p:outputLabel value="#{almacenManaged.consultarFecha()}" ><f:convertDateTime pattern="dd/MM/yyyy" /></p:outputLabel>
                    <p:outputLabel value="Proveedor:" for="proveedor"/>
                    <p:selectOneMenu id="proveedor" style="width: 95%;" value="#{almacenManaged.idProveedor}">
                        <f:selectItem itemLabel="Seleccione" itemValue="-1"></f:selectItem>                        
                        <f:selectItems var="proveedor" value="#{proveedoresManaged.lista}" 
                                       itemLabel="#{proveedor.nombres}" itemValue="#{proveedor.idProveedor}"
                                       />
                    </p:selectOneMenu>
                    <p:outputLabel value="Nombre del producto:" />
                    <p:inputText value="#{almacenManaged.nombre}" />
                    <p:outputLabel value="Descripción:" />                    
                    <p:inputTextarea id="descripcion" value="#{almacenManaged.descripcion}" style="width: 95%; max-width: 300px; max-height: 200px;" rows="3" autoResize="false" placeholder="Descripción del problema." />
                    <p:outputLabel value="Cantidad:" />
                    <p:inputText value="#{almacenManaged.cantidad}" />
                    <p:outputLabel value="Valor interno:" />
                    <p:inputText value="#{almacenManaged.valorInterno}" />
                    <p:outputLabel value="Valor cliente:" />
                    <p:inputText value="#{almacenManaged.valorCliente}" />
                </p:panelGrid>
                <p:panel style="text-align: right; border: 0px;">
                    <p:commandButton value="Guardar" actionListener="#{almacenManaged.guardarProducto()}" onclick="PF('cargando').show()" oncomplete="PF('cargando').hide();" update=":form" title="Guardar producto" ajax="true"/>
                    <p:commandButton value="Cancelar" onclick="PF('dlgCrear').hide()"/>
                </p:panel>
            </p:panel>
        </h:form>
    </h:body>
</html>

